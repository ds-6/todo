(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{34:function(e,t,a){e.exports=a(61)},39:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(30),l=a.n(o);a(39);function r(){return c.a.createElement("div",null,c.a.createElement("div",{className:"row container"},c.a.createElement("div",{className:"col s12"},c.a.createElement("div",{className:"card z-depth-2"},c.a.createElement("div",{className:"card-content center-align"},c.a.createElement("h4",null,"Todoz"),c.a.createElement("p",null,c.a.createElement("a",{href:"/auth/google",className:"btn btn-medium red darken-1 white-text text-lighten-2"},"Login with GOOGLE")))))))}var i=a(10);function s(){return c.a.createElement("div",null,c.a.createElement("header",null,c.a.createElement("nav",null,c.a.createElement("div",{className:"nav-wrapper container"},c.a.createElement(i.b,{to:"/",className:"brand-logo grey-text text-lighten-3"},"Todoz")))))}var m=a(13),d=a(18),u=a(63),E=a(7),f=a.n(E),h=a(8),p=a.n(h),g=function(e,t){switch(t.type){case"RENDER":return Object(d.a)(t.val);case"DONE":return p.a.post("todo/done",{id:t.id,key:t.key}).then((function(e){return f.a.toast({html:"Todo Done"})})).catch((function(e){return f.a.toast({html:"Server Error"})})),e.map((function(e){return e.key===t.key&&(e.done=!0),e}));case"UNDO":return p.a.post("todo/undo",{id:t.id,key:t.key}).then((function(e){return f.a.toast({html:"Todo Undone"})})).catch((function(e){return f.a.toast({html:"Server Error"})})),e.map((function(e){return e.key===t.key&&(e.done=!1),e}));case"ADD":var a={todo:t.val,done:!1,key:Object(u.a)()};return[].concat(Object(d.a)(e),[a]);case"DELETE":return p.a.post("todo/delete",{key:t.key,id:t.id}).then((function(e){return f.a.toast({html:"Todo Deleted"})})).catch((function(e){return f.a.toast({html:"Server Error"})})),e.filter((function(e){return e.key!==t.key}));default:return e}},v=Object(n.createContext)();function y(e){var t=Object(n.useReducer)(g,[]),a=Object(m.a)(t,2),o=a[0],l=a[1],r=Object(n.useState)(!1),i=Object(m.a)(r,2),s=i[0],d=i[1];return Object(n.useEffect)((function(){p.a.get("/todo/all/".concat(localStorage.getItem("id"))).then((function(e){console.log(e.data.todos),l({type:"RENDER",val:e.data.todos}),d(!0)}))}),[]),c.a.createElement("div",null,c.a.createElement(v.Provider,{value:{todos:o,dispatch:l,isLoaded:s}},e.children))}function N(){return c.a.createElement("div",{className:"row container center-align loading-img"},c.a.createElement("img",{src:"../photos/loading.gif",width:"60",alt:"loading-icon"}))}function b(){var e=window.localStorage.getItem("id"),t=Object(n.useContext)(v),a=t.todos,o=t.dispatch,l=t.isLoaded?a[0]?a.map((function(t){return t.done?c.a.createElement("li",{className:"collection-item done",key:t.key},c.a.createElement("span",{className:"todo-text"},t.todo),c.a.createElement("a",{href:"#!",onClick:function(){return o({type:"UNDO",key:t.key,id:e})},className:"secondary-content"},c.a.createElement("i",{className:"material-icons"},"check_circle")),c.a.createElement("a",{href:"#!",onClick:function(){return o({type:"DELETE",key:t.key,id:e})},className:"secondary-content"},c.a.createElement("i",{className:"material-icons delete"},"delete"))):c.a.createElement("li",{className:"collection-item",key:t.key},c.a.createElement("span",{className:"todo-text"},t.todo),c.a.createElement("a",{href:"#!",onClick:function(){return o({type:"DONE",key:t.key,id:e})},className:"secondary-content"},c.a.createElement("i",{className:"material-icons"},"check_circle")),c.a.createElement("a",{href:"#!",onClick:function(){return o({type:"DELETE",key:t.key,id:e})},className:"secondary-content"},c.a.createElement("i",{className:"material-icons delete"},"delete")))})):c.a.createElement("h5",{className:"grey-text lighten-3 center-align"},"No Todo yet..."):c.a.createElement(N,null);return c.a.createElement("div",null,c.a.createElement("section",{className:"section",id:"todo-section"},c.a.createElement("div",{className:"row container"},c.a.createElement("ul",{className:"collection"},l))))}function k(e){var t=Object(n.useState)(""),a=Object(m.a)(t,2),o=a[0],l=a[1],r=Object(n.useContext)(v).dispatch,i=window.localStorage.getItem("id");return Object(n.useEffect)((function(){f.a.Modal.init(document.querySelectorAll(".modal"))}),[]),c.a.createElement("section",{className:"section",id:"todo-input"},c.a.createElement("a",{className:"waves-effect waves-light btn-floating modal-trigger btn-add z-depth-2","data-target":"modal1"},c.a.createElement("i",{className:"material-icons addBTN"},"add")),c.a.createElement("div",{id:"modal1",className:"modal"},c.a.createElement("div",{className:"modal-content row"},c.a.createElement("form",{className:"col s12",onSubmit:function(e){e.preventDefault(),r({type:"ADD",val:o}),p.a.post("todo/add/".concat(i),{todo:o}).then((function(e){return console.log(e)})),l(""),f.a.Modal.getInstance(document.querySelector("#modal1")).close()}},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"input-field col s12"},c.a.createElement("i",{className:"material-icons prefix"},"mode_edit"),c.a.createElement("textarea",{id:"todo-item",className:"materialize-textarea",value:o,onChange:function(e){return l(e.target.value)},required:!0}),c.a.createElement("label",{htmlFor:"todo-item"},"Add Todo...")),c.a.createElement("button",{type:"submit",className:"btn btn-small right"},"ADD"))))))}function O(){return c.a.createElement("div",null,c.a.createElement(b,null),c.a.createElement(k,null))}var w=a(1),j=a(32),D=a(33),x=function(e){var t=e.component,a=Object(D.a)(e,["component"]),o=Object(w.g)();Object(n.useEffect)((function(){var e=Object(j.a)({},a).location.search.substr(4);e&&(window.localStorage.setItem("id",e),o.push("/"))}),[]);var l=window.localStorage.getItem("id");return c.a.createElement(w.b,Object.assign({},a,{render:function(e){return l?c.a.createElement(t,e):c.a.createElement(w.a,{to:{pathname:"/login",state:{from:e.location}}})}}))};function S(){return c.a.createElement(y,null,c.a.createElement(i.a,null,c.a.createElement(s,null),c.a.createElement(w.d,null,c.a.createElement(x,{exact:!0,path:"/",component:O}),c.a.createElement(w.b,{path:"/login",component:r}))))}l.a.render(c.a.createElement(S,null),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.629fb7c3.chunk.js.map