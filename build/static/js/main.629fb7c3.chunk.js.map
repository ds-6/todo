{"version":3,"sources":["components/Login.js","components/Header.js","reducers/todoReducer.js","contexts/TodoContext.js","components/Loading.js","components/TodoList.js","components/AddTodo.js","components/Home.js","ProtectedRoute.js","App.js","index.js"],"names":["Login","className","href","Header","to","todoReducer","state","action","type","val","axios","post","id","key","then","res","M","toast","html","catch","err","map","todo","done","newOBJ","uuid","filter","TodoContext","createContext","TodoContextProvider","props","useReducer","todos","dispatch","useState","isLoaded","setLoaded","useEffect","get","localStorage","getItem","console","log","data","Provider","value","children","Loading","src","width","alt","TodoList","window","useContext","todoList","onClick","AddTodo","setTodo","Modal","init","document","querySelectorAll","data-target","onSubmit","e","preventDefault","getInstance","querySelector","close","onChange","target","required","htmlFor","Home","ProtectedRoute","Component","component","rest","history","useHistory","location","search","substr","setItem","push","render","pathname","from","App","exact","path","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.629fb7c3.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport default function Login() {\r\n    \r\n    return (\r\n        <div>\r\n            <div className=\"row container\">\r\n                <div className=\"col s12\">\r\n                    <div className=\"card z-depth-2\">\r\n                        <div className=\"card-content center-align\">\r\n                            <h4>Todoz</h4>\r\n                            <p>\r\n                                <a href=\"/auth/google\" className=\"btn btn-medium red darken-1 white-text text-lighten-2\">\r\n                                    Login with GOOGLE\r\n                                </a>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Header() {\r\n    return (\r\n        <div>\r\n            <header>\r\n                <nav>\r\n                    <div className=\"nav-wrapper container\">\r\n                        <Link to=\"/\" className=\"brand-logo grey-text text-lighten-3\">Todoz</Link>\r\n                    </div>\r\n                </nav>\r\n            </header>\r\n        </div>\r\n    )\r\n}\r\n","import { v1 as uuid } from 'uuid';\r\nimport M from 'materialize-css';\r\nimport axios from 'axios'\r\n\r\nexport const todoReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case \"RENDER\":\r\n            return state = [...action.val]\r\n        case \"DONE\":\r\n            axios.post(`todo/done`, { id: action.id,key:action.key })\r\n                .then(res => M.toast({html:'Todo Done'}))\r\n                .catch(err => M.toast({ html: \"Server Error\" }));\r\n            return state.map(todo => {\r\n                if (todo.key === action.key) {\r\n                    todo.done = true\r\n                }\r\n                return todo;\r\n            })\r\n            break;\r\n        case \"UNDO\":\r\n            axios.post(`todo/undo`, { id: action.id,key:action.key })\r\n                .then(res => M.toast({ html: \"Todo Undone\" }))\r\n                .catch(err => M.toast({ html: \"Server Error\" }));\r\n            return state.map(todo => {\r\n                if (todo.key === action.key) {\r\n                    todo.done = false;\r\n                }\r\n                return todo;\r\n            })\r\n            break;\r\n        case \"ADD\":\r\n            const newOBJ = {\r\n                todo: action.val,\r\n                done: false,\r\n                key: uuid()\r\n            }\r\n            return state = [...state, newOBJ];\r\n            break;\r\n        case \"DELETE\":\r\n            axios.post(`todo/delete`, { key: action.key,id:action.id})\r\n                .then(res =>M.toast({ html: \"Todo Deleted\"}))\r\n                .catch(err => M.toast({ html: \"Server Error\" }));\r\n            return state = state.filter(todo => todo.key !== action.key)\r\n            break;\r\n        default:\r\n            return state\r\n            break;\r\n    }\r\n}","import React, { createContext,useReducer,useEffect,useState } from 'react';\r\nimport { todoReducer } from '../reducers/todoReducer';\r\nimport axios from 'axios';\r\n\r\nexport const TodoContext = createContext();\r\nexport default function TodoContextProvider(props) {\r\n    const [todos,dispatch] = useReducer(todoReducer,[]);    \r\n    const[isLoaded,setLoaded] = useState(false);\r\n    useEffect(()=>{\r\n        axios.get(`/todo/all/${localStorage.getItem('id')}`)\r\n        .then(res=>{\r\n            console.log(res.data.todos);\r\n            dispatch({'type':'RENDER','val':res.data.todos})\r\n            setLoaded(true);\r\n        });\r\n    },[])\r\n    return (\r\n        <div>\r\n            <TodoContext.Provider value={{ todos,dispatch,isLoaded}}>\r\n                {props.children}\r\n            </TodoContext.Provider>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function Loading() {\r\n    return (\r\n        <div className=\"row container center-align loading-img\">\r\n            <img src=\"../public/photos/loading.gif\" width=\"60\"alt=\"loading-icon\"/>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext} from 'react';\r\nimport { TodoContext } from '../contexts/TodoContext';\r\nimport Loading from '../components/Loading';\r\nexport default function TodoList() {\r\n    const id = window.localStorage.getItem('id');\r\n    const { todos, dispatch,isLoaded} = useContext(TodoContext);\r\n    const todoList = isLoaded?(todos[0]?todos.map(todo => {\r\n        if (todo.done) {\r\n            return (<li className=\"collection-item done\" key={todo.key}><span className=\"todo-text\">{todo.todo}</span><a href=\"#!\" onClick={() => dispatch({type:\"UNDO\",key:todo.key,id})} className=\"secondary-content\"><i className=\"material-icons\">check_circle</i></a><a href=\"#!\" onClick={() => dispatch({type:\"DELETE\",key:todo.key,id})} className=\"secondary-content\"><i className=\"material-icons delete\">delete</i></a></li>)\r\n        }\r\n        else {\r\n            return (<li className=\"collection-item\" key={todo.key}><span className=\"todo-text\">{todo.todo}</span><a href=\"#!\" onClick={() => dispatch({type:\"DONE\",key:todo.key,id})} className=\"secondary-content\"><i className=\"material-icons\">check_circle</i></a><a href=\"#!\" onClick={() => dispatch({type:\"DELETE\",key:todo.key,id})} className=\"secondary-content\"><i className=\"material-icons delete\">delete</i></a></li>)\r\n        }\r\n    }):<h5 className=\"grey-text lighten-3 center-align\">No Todo yet...</h5>): <Loading/>\r\n  \r\n    return (\r\n        <div>\r\n            <section className=\"section\" id=\"todo-section\">\r\n                <div className=\"row container\">\r\n                    <ul className=\"collection\">\r\n                        {todoList}\r\n                    </ul>\r\n                </div>\r\n            </section>\r\n        </div>\r\n    )\r\n}\r\n\r\n","import React, { useContext, useState, useEffect } from 'react';\r\nimport { TodoContext } from '../contexts/TodoContext';\r\nimport M from \"materialize-css\";\r\nimport axios from 'axios';\r\n\r\nexport default function AddTodo(props) {\r\n    const [todo, setTodo] = useState(\"\");\r\n    const { dispatch } = useContext(TodoContext);\r\n    const id = window.localStorage.getItem('id')\r\n    const addTodo = (e) => {\r\n        e.preventDefault();\r\n        dispatch({ type: \"ADD\", val: todo });\r\n        axios.post(`todo/add/${id}`, { todo })\r\n            .then(res => console.log(res));\r\n        setTodo(\"\");\r\n        const m = M.Modal.getInstance(document.querySelector('#modal1'))\r\n        m.close()\r\n    }\r\n    /****For M Materialize****/\r\n    useEffect(() => {\r\n        M.Modal.init(document.querySelectorAll('.modal'));\r\n    }, [])\r\n    /**/\r\n    return (\r\n        <section className=\"section\" id=\"todo-input\">\r\n            <a className=\"waves-effect waves-light btn-floating modal-trigger btn-add z-depth-2\" data-target=\"modal1\"><i className=\"material-icons addBTN\">add</i></a>\r\n            <div id=\"modal1\" className=\"modal\">\r\n                <div className=\"modal-content row\">\r\n                    <form className=\"col s12\" onSubmit={addTodo}>\r\n                        <div className=\"row\">\r\n                            <div className=\"input-field col s12\">\r\n                                <i className=\"material-icons prefix\">mode_edit</i>\r\n                                <textarea id=\"todo-item\" className=\"materialize-textarea\" value={todo} onChange={(e) => setTodo(e.target.value)} required></textarea>\r\n                                <label htmlFor=\"todo-item\">Add Todo...</label>\r\n                            </div>\r\n                            <button type=\"submit\" className=\"btn btn-small right\" >ADD</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n\r\n}\r\n\r\n","import React from 'react';\r\nimport TodoList from './TodoList';\r\nimport AddTodo from './AddTodo';\r\n\r\nexport default function Home() {\r\n    return (\r\n        <div>\r\n            <TodoList />\r\n            <AddTodo />\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport { Route, Redirect, useHistory } from \"react-router-dom\";\r\nexport const ProtectedRoute = ({ component: Component, ...rest }) => {\r\n    const history = useHistory();\r\n    useEffect(() => {\r\n        const id = { ...rest }.location.search.substr(4);\r\n        if (id) {\r\n            window.localStorage.setItem('id', id);\r\n            history.push('/')\r\n        }\r\n    }, [])\r\n    const id = window.localStorage.getItem('id');\r\n    return (\r\n        <Route {...rest} render={\r\n            (props) => {\r\n                if (id) {\r\n                    return <Component {...props} />\r\n                } else {\r\n                    return (\r\n                        < Redirect\r\n                            to={{\r\n                                pathname: \"/login\",\r\n                                state: {\r\n                                    from: props.location\r\n                                }\r\n                            }}\r\n                        />\r\n                    )\r\n                }\r\n            }\r\n        } />\r\n    )\r\n}\r\n","import React from 'react'\nimport './index.css';\nimport Login from './components/Login';\nimport Header from './components/Header';\nimport Home from './components/Home';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport TodoContextProvider from './contexts/TodoContext';\nimport { ProtectedRoute } from './ProtectedRoute';\n\nexport default function App() {\n  return (\n    <TodoContextProvider>\n      <BrowserRouter>\n        <Header />\n        <Switch>\n          <ProtectedRoute exact path=\"/\" component={Home} />\n          <Route path='/login' component={Login}>\n          </Route>\n        </Switch>\n      </BrowserRouter>\n    </TodoContextProvider>\n  )\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nReactDOM.render(\n     <App />,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}